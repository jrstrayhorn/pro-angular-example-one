<style>
  input.ng-dirty.ng-invalid {
    border: 2px solid #ff0000;
  }
  input.ng-dirty.ng-valid {
    border: 2px solid #6bc502;
  }
</style>
<div class="m-2">
  <div class="bg-info text-white p-2">
    Selected Product: {{ selectedProduct || "(None)" }}
  </div>
  <table class="table table-sm table-bordered">
    <tr>
      <th></th>
      <th>Name</th>
      <th>Category</th>
      <th>Price</th>
    </tr>
    <tr
      *ngFor="let item of getProducts(); let i = index"
      [class.bg-info]="getSelected(item)"
    >
      <td (mouseover)="selectedProduct = item.name">{{ i + 1 }}</td>
      <td>{{ item.name }}</td>
      <td>{{ item.category }}</td>
      <td>{{ item.price }}</td>
    </tr>
  </table>

  <div class="form-group">
    <label>Product Name</label>
    <input class="form-control" [(ngModel)]="selectedProduct" />
  </div>
  <div class="form-group">
    <label>Product Name</label>
    <input class="form-control" [(ngModel)]="selectedProduct" />
  </div>

  <h3>New Product Form</h3>
  <div class="m-2">
    <div class="bg-info text-white mb-2 p-2">Model Data: {{ jsonProduct }}</div>
  </div>
  <form novalidate (ngSubmit)="addProduct(newProduct)">
    <div class="form-group">
      <label>Name</label>
      <input
        [(ngModel)]="newProduct.name"
        class="form-control"
        name="name"
        #name="ngModel"
        required
        minlength="5"
        pattern="^[A-Za-z ]+$"
      />
      <ul class="text-danger list-unstyled" *ngIf="name.dirty">
        <li *ngIf="name.errors?.required">You must enter a product name</li>
        <li *ngIf="name.errors?.pattern">
          Product names can only contain letters and spaces
        </li>
        <li *ngIf="name.errors?.minlength">
          Product names must be at least
          {{ name.errors.minlength.requiredLength }}
        </li>
      </ul>
    </div>
    <!--<div class="form-group">
      <label>Category</label>
      <input [(ngModel)]="newProduct.category" class="form-control" />
    </div>
    <div class="form-group">
      <label>Price</label>
      <input [(ngModel)]="newProduct.price" class="form-control" />
    </div>-->
    <button class="btn btn-primary" type="submit">Create</button>
  </form>
</div>
